pipeline {
    agent { 
		docker { 
			image 'alpine:latest' 
		}
	}
	parameters { 
		choice(name: 'CHOICE', choices: ['Build', 'Test']
	}
    	stages {
    	stage('build'){
		when{
			environment name: 'CHOICE', value: 'Build'
		}
		steps{
			sh "echo $CHOICE"
		}
	}
    	stage('test'){
		when{
			environment name: 'CHOICE', value: 'Build'
		}
		steps{
			sh "echo $CHOICE"
		}
	}	
    	}
}
